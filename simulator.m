function [snext,r] = simulator(state,action)
x = rand;
rewards = [0,0,0,0,0,0,0,0,0,1,-100,0]';
s = [1,2,1,4;...
     1,3,2,2;...
     2,3,3,6;...
     4,4,1,7;...
     5,5,5,5;...
     6,6,3,9;...
     7,8,4,10;...
     7,9,8,11;...
     8,9,6,12;...
     10,11,7,10;...
     10,12,8,11;...
     11,12,9,12];
if x < 0.8
   snext = s(state,action);
else
    y = rand;
    if y<0.5
        if action == 1|2 
           snext = s(state,3);
        else 
           snext = s(state,1);
        end
    else
       if action == 1|2 
           snext = s(state,4);
       else
           snext = s(state,2);
       end
    end
end
r = rewards(snext);
end